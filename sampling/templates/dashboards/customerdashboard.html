<!doctype html>
<html lang="en">

<head>
    <title>Customer Dashboard | Sampling | Donear</title>
    {% load static %}
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <!--     Fonts and icons     -->
    <link rel="stylesheet" type="text/css"
        href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    <!-- Material Kit CSS -->
    <link href="{% static 'assets/css/material-kit.css' %}" rel="stylesheet" />

</head>

<body>
    <!-- Navbar Transparent -->
    <div class="container position-sticky z-index-sticky top-0">
        <div class="row">
            <div class="col-12">
                <nav
                    class="navbar navbar-expand-lg  blur border-radius-xl top-0 z-index-fixed shadow position-absolute my-3 py-2 start-0 end-0 mx-4">
                    <div class="container">
                        <a class="navbar-brand" href="{% url 'sampling' %}">
                            <div class="logo-image">
                                <img src="{% static 'assets/img/DON.png' %}" class="responsive-logo">
                            </div>
                        </a>
                        <button class="navbar-toggler shadow-none ms-2" type="button" data-bs-toggle="collapse"
                            data-bs-target="#navigation" aria-controls="navigation" aria-expanded="false"
                            aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon mt-2">
                                <span class="navbar-toggler-bar bar1"></span>
                                <span class="navbar-toggler-bar bar2"></span>
                                <span class="navbar-toggler-bar bar3"></span>
                            </span>
                        </button>
                        <div class="collapse navbar-collapse w-100 pt-3 pb-2 py-lg-0 ms-lg-12 ps-lg-5" id="navigation">
                            <ul class="navbar-nav navbar-nav-hover ms-auto">

                                <li class="nav-item my-auto ms-3 ms-lg-0">
                                    <a href="{% url 'designs' %}" class="btn btn-sm  mb-0 me-1 mt-2 mt-md-0"
                                        style="background-color: #0474bc; color: aliceblue;">Designs</a>
                                    <a href="{% url 'customerlogout' %}" class="btn btn-sm  mb-0 me-1 mt-2 mt-md-0"
                                        style="background-color: #ef1919; color: aliceblue;">Sign
                                        out</a>
                                </li>

                            </ul>
                        </div>
                    </div>
                </nav>
            </div>
        </div>
    </div>
    <!-- End Navbar -->

    <section class="my-5 py-5">
        <div class="container">
            <div class="row">
                <div class="row justify-content-center text-center my-sm-5">
                    <div class="col-lg-6">
                        <h2 class="text-dark mb-0">Welcome {{name}}</h2>
                        <br><br>
                        <span class="badge mb-3" style="color: rgb(255, 255, 255); background-color: #ef1919;">See your
                            Sampling orders:-</span>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <div class="card card-body shadow-xl mx-3 mx-md-4 mt-n6">
        <div class="container">
            <div class="section text-center pt-4">
                <section class="pt-3 pb-4">
                    <div class="container">
                        <div class="card">
                            <div class="table-responsive">
                                <table class="table align-items-center mb-0">
                                    <thead>
                                        <tr>
                                            <th
                                                class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">
                                                Order No</th>
                                            <th
                                                class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">
                                                Samples</th>

                                            <th
                                                class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">
                                                Order Status</th>
                                            <th class="text-secondary opacity-7"></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for order in orders %}

                                        <tr>
                                            <td>
                                                <div class="d-flex px-2 py-1">


                                                    <h6 class="mb-0 text-xs" style="margin: 0 auto;">{{order.orderno}}
                                                    </h6>


                                                </div>
                                            </td>

                                            <td>
                                                <p class="text-xs font-weight-bold mb-0">{{order.selected_samples}}</p>

                                            </td>
                                            <td class="align-middle text-center text-sm">
                                                {% if order.completestatus == True %}
                                                <span class="badge"
                                                    style="background-color: rgb(2, 255, 2);">Completed</span>
                                                {% endif %}
                                                {% if order.completestatus == False %}
                                                <span class="badge" style="background-color: rgb(255, 0, 0);">Not
                                                    Completed</span>
                                                {% endif %}

                                            </td>

                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>



                        <div class="row">
                            <div class="row justify-content-center text-center my-sm-5">
                                <div class="col-lg-6">
                                    <br>
                                    <span class="badge mb-3"
                                        style="color: rgb(255, 255, 255); background-color: #ef1919;">See all Bulk
                                        orders:-</span>
                                </div>
                            </div>
                        </div>


                        <div class="row">
                            <div class="col-lg-100 mx-auto">

                                <div class="card">
                                    <div class="table-responsive">
                                        <table class="table align-items-center mb-0">
                                            <thead>
                                                <tr>
                                                    <th
                                                        class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">
                                                        Order No</th>
                                                    <th
                                                        class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">
                                                        Image</th>
                                                    <th
                                                        class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">
                                                        Design Name</th>
                                                    <th
                                                        class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">
                                                        Parameters</th>

                                                    <th
                                                        class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">
                                                        Order Status</th>

                                                    <th
                                                        class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">
                                                        View Details</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                {% for order in bulkorders %}

                                                <tr style="margin: 1em;">
                                                    <td>
                                                        <div class="d-flex px-2 py-1">


                                                            <h6 class="mb-0 text-xs" style="margin: 0 auto;">
                                                                {{order.orderno}}</h6>


                                                        </div>
                                                    </td>
                                                    <td>

                                                        <div>
                                                            <img style="height: 5em;" src="{{ order.image.url }}"
                                                                alt="Design Image">
                                                        </div>


                                                    </td>

                                                    <td>
                                                        <div class="d-flex px-2 py-1">
                                                            <h6 class="mb-0 text-xs" style="margin: 0 auto;">
                                                                {{order.selected_design}}</h6>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <div class="d-flex px-2 py-1">
                                                            <h6 class="mb-0 text-xs" style="margin: 0 auto;">Length:
                                                                {{order.length}} <br> Width: {{order.width}}</h6> <br>

                                                        </div>
                                                    </td>



                                                    <td class="align-middle text-center text-sm">
                                                        {% if order.completestatus == True %}
                                                        <span class="badge"
                                                            style="background-color: rgb(2, 255, 2);">Completed</span>
                                                        {% endif %}
                                                        {% if order.completestatus == False %}
                                                        <span class="badge"
                                                            style="background-color: rgb(255, 0, 0);">Not
                                                            Completed</span>
                                                        {% endif %}

                                                    </td>
                                                    <td>

                                                        <button type="button" class="btn btn-outline-danger btn-sm"
                                                            onclick="showinbig('{{order.selected_design}}')">Details</button>

                                                    </td>

                                                </tr>
                                                {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>
    <footer class="footer pt-5 mt-5">
        <div class="container">
            <div class=" row">
                <div class="col ms-auto">
                    <div>
                        <a href="https://www.creative-tim.com/product/material-kit">
                            <img src="{% static 'assets/img/DON.png' %}" class="footer-logo" alt="main_logo"
                                style="height: 15px; width: 150000px;">
                        </a>
                        <h6 class="font-weight-bolder mb-4">Donear Industries Pvt. Ltd.</h6>
                    </div>

                </div>
                <div class="col-md-2 col-sm-6 col-6 mb-4">
                    <div>
                        <h6 class="text-sm">Company</h6>
                        <ul class="flex-column ms-n3 nav">
                            <li class="nav-item">
                                <a class="nav-link" href="https://donear.com/about-us#aboutUs" target="_blank">
                                    About Us
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="https://donear.com/contact-us" target="_blank">
                                    Contact Us
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Modal -->
    <div class="modal fade" id="designModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content h-100">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel"></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                        style="background-color: #ef1919; color: aliceblue;"></button>
                </div>
                <div class="modal-body d-flex flex-row  h-100">
                    <div class="col-md-6 p-0" style="padding: 2em;">
                        <img style="height: 25em; border: 1px rgb(101, 98, 98) solid;" src="" id="designImage"
                            class="img-fluid" alt="">
                    </div>
                    <div class="col-md-6 overflow-auto" id="Description" style="margin-left: 1em;">
                        <h5 id="modal-title"> </h5>
                        <h6 id="shade_color"> </h6>
                        <h6 id="width"> </h6>
                        <h6 id="fabrictype"> </h6>
                        <h6 id="GSM"> </h6>
                        <h6 id="pick"> </h6>
                        <h6 id="weave"> </h6>
                        <h6 id="finish"> </h6>
                        <p id="designDescription"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script>
        function showinbig(designName) {
            // Fetch design details using AJAX
            fetch(`/get_design_details/${designName}`)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(data => {
                    const modalTitle = document.querySelector('#designModal .modal-title');
                    modalTitle.textContent = " Design ID: " + data.Name;

                    const modalDescriptionTitle = document.querySelector('#Description #modal-title');
                    modalDescriptionTitle.textContent = data.Name;

                    const designImage = document.querySelector('#designModal #designImage');
                    designImage.src = data.image_url;
                    designImage.alt = data.Name;

                    const designDescription = document.querySelector('#designModal #designDescription');
                    designDescription.textContent = data.description;

                    const shade_color = document.querySelector('#designModal #shade_color');
                    shade_color.textContent = " Shade/Colour: " + data.shade_color;

                    const width = document.querySelector('#designModal #width');
                    width.textContent = " Width: " + data.width;

                    const fabrictype = document.querySelector('#designModal #fabrictype');
                    fabrictype.textContent = " Fabric Type: " + data.fabric_type;

                    const GSM = document.querySelector('#designModal #GSM');
                    GSM.textContent = " GSM: " + data.GSM_;

                    const pick = document.querySelector('#designModal #pick');
                    pick.textContent = " Pick: " + data.pick;

                    const weave = document.querySelector('#designModal #weave');
                    weave.textContent = " Weave: " + data.weave;

                    const finish = document.querySelector('#designModal #finish');
                    finish.textContent = " Finish: " + data.finish;

                    // Show the modal
                    const designModal = new bootstrap.Modal(document.getElementById('designModal'));
                    designModal.show();

                })
                .catch(error => {
                    console.error('There was a problem with the fetch operation:', error);
                });
        }
        window.onpopstate = function (event) {
            // Redirect to desired URL on back button click
            window.location.href = "http://127.0.0.1:8000/designs/";
        };
    </script>
</body>
<!--   Core JS Files   -->
<script src="{% static 'assets/js/core/popper.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/js/core/bootstrap.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/js/plugins/perfect-scrollbar.min.js' %}"></script>
<!--  Plugin for TypedJS, full documentation here: https://github.com/inorganik/CountUp.js -->
<script src="{% static 'assets/js/plugins/countup.min.js' %}"></script>
<!--  Plugin for Parallax, full documentation here: https://github.com/dixonandmoe/rellax -->
<script src="{% static 'assets/js/plugins/rellax.min.js' %}"></script>
<!--  Plugin for TiltJS, full documentation here: https://gijsroge.github.io/tilt.js/ -->
<script src="{% static 'assets/js/plugins/tilt.min.js' %}"></script>
<!--  Plugin for Selectpicker - ChoicesJS, full documentation here: https://github.com/jshjohnson/Choices -->
<script src="{% static 'assets/js/plugins/choices.min.js' %}"></script>
<!--  Plugin for Parallax, full documentation here: https://github.com/wagerfield/parallax  -->
<script src="{% static 'assets/js/plugins/parallax.min.js' %}"></script>
<!-- Control Center for Material UI Kit: parallax effects, scripts for the example pages etc -->
<script src="{% static 'assets/js/material-kit.min.js' %}" type="text/javascript"></script>


</html>