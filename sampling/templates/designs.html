<!DOCTYPE html>
<html lang="en">

<head>
  <title>Designs | Sampling | Donear</title>
  {% load static %}
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <!--     Fonts and icons     -->
  <link rel="stylesheet" type="text/css"
    href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
  <!-- Material Icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
  <!-- Material Kit CSS -->
  <link href="{% static 'assets/css/material-kit.css'%}" rel="stylesheet" />
  <style>
    #background-image {
      background-image: url('{% static "assets/img/Designs.jpg"%}')
    }
  </style>
</head>

<body>
  <!-- Navbar Transparent -->
  <div class="container position-sticky z-index-sticky top-0">
    <div class="row">
      <div class="col-12">
        <nav
          class="navbar navbar-expand-lg  blur border-radius-xl top-0 z-index-fixed shadow position-absolute my-3 py-2 start-0 end-0 mx-4">
          <div class="container">
            <a class="navbar-brand" href="http://127.0.0.1:8000/sampling/">
              <div class="logo-image">
                <img src="{% static 'assets/img/DON.png' %}" class="responsive-logo">
              </div>
            </a>
            <button class="navbar-toggler shadow-none ms-2" type="button" data-bs-toggle="collapse"
              data-bs-target="#navigation" aria-controls="navigation" aria-expanded="false"
              aria-label="Toggle navigation">
              <span class="navbar-toggler-icon mt-2">
                <span class="navbar-toggler-bar bar1"></span>
                <span class="navbar-toggler-bar bar2"></span>
                <span class="navbar-toggler-bar bar3"></span>
              </span>
            </button>
            <div class="collapse navbar-collapse w-100 pt-3 pb-2 py-lg-0 ms-lg-12 ps-lg-5" id="navigation">
              <ul class="navbar-nav navbar-nav-hover ms-auto">

                <li class="nav-item my-auto ms-3 ms-lg-0">
                  <a href="{% url 'customerlogout' %}" class="btn btn-sm  mb-0 me-1 mt-2 mt-md-0"
                    style="background-color: #ef1919; color: aliceblue;">Sign
                    out</a>
                </li>

              </ul>
            </div>
          </div>
        </nav>
      </div>
    </div>
  </div>
  <!-- End Navbar -->


  <div class="page-header min-vh-80" id="background-image">
    <span class="mask bg-gradient-dark opacity-1"></span>
  </div>

  <section class="my-5 py-5">
    <div class="container">
        <div class="row">
            <div class="row justify-content-center text-center my-sm-5">
                <div class="col-lg-6">
                    <h2 class="text-dark mb-0">All Designs:-</h2>
                    <br><br>
                </div>
            </div>
        </div>
    </div>
</section>

  <div class="card card-body shadow-xl mx-3 mx-md-4 mt-n6">
    <div class="container">
      <div class="section text-center pt-6">
        <section class="pb-8">
          <div class="container">
              <section class="mt-3" style=" border-radius: 1em;">
                  <div class="container">
                      <div class="row justify-content-between text-center py-2">
                          <div class="col-12 mx-auto">
                              <a href="{% url 'mycart' %}"><button type="button"
                                  class="btn w-auto"
                                  style="height: 50px; width: 150px; background-color: #0474bc; color: white;">Go to Cart
                                  </button></a>
                          </div>
                      </div>
                  </div>
              </section>
          </div>
      </section>
        <section class="pt-3 pb-4">
          <div class="container">
            <div class="row">
              <div class="col-lg-100 mx-auto">
                <div class="row">
                  {% for design in designs%}
                  <div class="col-md-4 position-relative pt-5">
                    <div class="card" style="width: 90%;">
                      <label for="{{design.name}}">
                        <input style="
                              position: absolute;
                              box-shadow: 3px white;
                              width: 30px;
                              height: 30px;
                              margin: 1em;
                              " type="checkbox" name="selectedSamples" value="{{design.name}}" />
                        <img class="card-img-top" src="{{design.image.url}}" alt="Card image cap"
                          onclick="selectImagecheckbox(event)">
                      </label>
                      <div class="card-body">
                        <h3 class="card-text">{{design.name}}</h3>
                        <p class="card-text">{{design.description}}</p>
                        <button type="button" class="btn" style="background-color: #ef1919; color: aliceblue;"
                          onclick='showinbig("{{design.name}}")'>View</button>
                      </div>
                    </div>
                    <hr class="vertical dark">
                  </div>
                  {%endfor%}

                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
      <form id="designsForm" action="{% url 'designs' %}" method="POST"
        style="display: block; width: 100%; margin: 2em;">
        <input type="hidden" id="selectedSamplesInput" name="selectedSamples" value="">
        <button style="display: flex; margin: 0 auto; justify-content: center;" type="submit"
          class="btn btn-danger">Submit Order</button>
      </form>
    </div>
  </div>
  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          ...
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="designModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel"></h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <img src="" id="designImage" class="img-fluid" alt="">
          <p id="designDescription"></p>
        </div>
      </div>
    </div>
  </div>
  <footer class="footer pt-5 mt-5">
    <div class="container">
      <div class=" row">
        <div class="col ms-auto">
          <div>
            <a href="https://www.creative-tim.com/product/material-kit">
              <img src="{% static 'assets/img/DON.png' %}" class="footer-logo" alt="main_logo"
                style="height: 15px; width: 150000px;">
            </a>
            <h6 class="font-weight-bolder mb-4">Donear Industries Pvt. Ltd.</h6>
          </div>
          <div>
            <ul class="d-flex flex-row ms-n3 nav">
              <li class="nav-item">
                <a class="nav-link pe-1" href="https://www.facebook.com/CreativeTim/" target="_blank">
                  <i class="fab fa-facebook text-lg opacity-8"></i>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link pe-1" href="https://twitter.com/creativetim" target="_blank">
                  <i class="fab fa-twitter text-lg opacity-8"></i>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link pe-1" href="https://dribbble.com/creativetim" target="_blank">
                  <i class="fab fa-dribbble text-lg opacity-8"></i>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link pe-1" href="https://github.com/creativetimofficial" target="_blank">
                  <i class="fab fa-github text-lg opacity-8"></i>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link pe-1" href="https://www.youtube.com/channel/UCVyTG4sCw-rOvB9oHkzZD1w"
                  target="_blank">
                  <i class="fab fa-youtube text-lg opacity-8"></i>
                </a>
              </li>
            </ul>
          </div>
        </div>
        <div class="col-md-2 col-sm-6 col-6 mb-4">
          <div>
            <h6 class="text-sm">Company</h6>
            <ul class="flex-column ms-n3 nav">
              <li class="nav-item">
                <a class="nav-link" href="https://donear.com/about-us#aboutUs" target="_blank">
                  About Us
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="https://donear.com/contact-us" target="_blank">
                  Contact Us
                </a>
              </li>
            </ul>
          </div>
        </div>
        
      </div>
    </div>
  </footer>
  <script>
    var checkboxes = document.querySelectorAll(
      'input[type="checkbox"]'
    );
    var selectedSamplesInput = document.getElementById("selectedSamplesInput");

    // Function to update the value of the hidden input field
    function updateSelectedSamples() {
      var selectedSamples = [];
      checkboxes.forEach(function (checkbox) {
        if (checkbox.checked) {
          selectedSamples.push(checkbox.value);
        }
      });
      selectedSamplesInput.value = selectedSamples.join(",");
    }

    checkboxes.forEach(function (checkbox) {
      checkbox.addEventListener("change", function () {
        updateSelectedSamples();
      });
    });
    function selectImagecheckbox(event) {
      const clickedElement = event.target;
      // console.log(clickedElement.tagName)
      const parentElement = clickedElement.parentNode;
      // console.log(parentElement.tagName)
      if (clickedElement.tagName.toLowerCase() === 'img') {
        const checkbox = parentElement.querySelector('input[type="checkbox"]');
        // console.log(checkbox.tagName)
        if (checkbox) {
          checkbox.checked = !checkbox.checked;
          // console.log(checkbox.value)
        }
      }
      updateSelectedSamples();
    }
    updateSelectedSamples();

    function showinbig(designName) {
      // Fetch design details using AJAX
      fetch(`/get_design_details/${designName}`)
        .then(response => {
          if (!response.ok) {
            throw new Error('Network response was not ok');
          }
          return response.json();
        })
        .then(data => {
          const modalTitle = document.querySelector('#designModal .modal-title');
          modalTitle.textContent = data.Name;

          const designImage = document.querySelector('#designModal #designImage');
          designImage.src = data.image_url;
          designImage.alt = data.Name;

          const designDescription = document.querySelector('#designModal #designDescription');
          designDescription.textContent = data.description;

          // Show the modal
          const designModal = new bootstrap.Modal(document.getElementById('designModal'));
          designModal.show();

        })
        .catch(error => {
          console.error('There was a problem with the fetch operation:', error);
        });
    }

  </script>
</body>
<!--   Core JS Files   -->
<script src="{% static 'assets/js/core/popper.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/js/core/bootstrap.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/js/plugins/perfect-scrollbar.min.js' %}"></script>
<!--  Plugin for TypedJS, full documentation here: https://github.com/inorganik/CountUp.js -->
<script src="{% static 'assets/js/plugins/countup.min.js' %}"></script>
<!--  Plugin for Parallax, full documentation here: https://github.com/dixonandmoe/rellax -->
<script src="{% static 'assets/js/plugins/rellax.min.js' %}"></script>
<!--  Plugin for TiltJS, full documentation here: https://gijsroge.github.io/tilt.js/ -->
<script src="{% static 'assets/js/plugins/tilt.min.js' %}"></script>
<!--  Plugin for Selectpicker - ChoicesJS, full documentation here: https://github.com/jshjohnson/Choices -->
<script src="{% static 'assets/js/plugins/choices.min.js' %}"></script>
<!--  Plugin for Parallax, full documentation here: https://github.com/wagerfield/parallax  -->
<script src="{% static 'assets/js/plugins/parallax.min.js' %}"></script>
<!-- Control Center for Material UI Kit: parallax effects, scripts for the example pages etc -->
<script src="{% static 'assets/js/material-kit.min.js' %}" type="text/javascript"></script>

</html>